(this["webpackJsonpcovid-stats"]=this["webpackJsonpcovid-stats"]||[]).push([[0],{37:function(e,t,a){e.exports=a(67)},42:function(e,t,a){},43:function(e,t,a){e.exports=a.p+"static/media/logo.ee7cd8ed.svg"},44:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(17),c=a.n(r),o=(a(42),a(43),a(44),a(16)),u=a(11),s=a(8),i=a.n(s),m=function(e){var t=Object(n.useMemo)((function(){return e.stateData}),[e.stateData]).filter((function(e,t){return"Total"!==e.state}));return l.a.createElement("div",null,l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("td",null,"State"),l.a.createElement("td",null,"Active"),l.a.createElement("td",null,"Confirmed"),l.a.createElement("td",null,"Deaths"),l.a.createElement("td",null,"Recovered"),l.a.createElement("td",null,"Total Tests"))),l.a.createElement("tbody",null,t?t.map((function(e){return l.a.createElement("tr",{key:e.state},l.a.createElement("td",null,e.state),l.a.createElement("td",null,e.active),l.a.createElement("td",null,e.confirmed),l.a.createElement("td",null,e.deaths),l.a.createElement("td",null,e.recovered),l.a.createElement("td",null,e.totaltested?e.totaltested:"-"))})):null)))},d=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(0),s=Object(u.a)(c,2),d=s[0],E=s[1];return Object(n.useEffect)((function(){var e;i.a.get("https://api.covid19india.org/state_test_data.json").then((function(t){var a=t.data.states_tested_data.map((function(e){var t=e.updatedon.split("/"),a=[t[1],t[0]];t[0]=a[0],t[1]=a[1];var n=t.join("/");return Object(o.a)({},e,{updatedon:n})})).reverse().filter((function(e,t,a){return t===a.findIndex((function(t){return t.state===e.state&&""!==t.totaltested}))})),n=a.map((function(e){return parseInt(""!==e.totaltested?e.totaltested:0)})).reduce((function(e,t){return e+t}),0);E(n),i.a.get("https://api.covid19india.org/data.json").then((function(t){e=t.data.statewise;for(var n=0;n<e.length;n++)for(var l=0;l<a.length;l++)e[n].state===a[l].state&&(e[n].totaltested=a[l].totaltested);r(e)}))}))}),[]),l.a.createElement("div",null,l.a.createElement("h1",null,"India COVID-19 Stats"),l.a.createElement("div",{className:"stats-wrapper"},l.a.createElement("div",null,l.a.createElement("h2",null,"Active"),l.a.createElement("h3",null,a[0]?a[0].active:"-"," ")),l.a.createElement("div",null,l.a.createElement("h2",null,"Confirmed"),l.a.createElement("h3",null,a[0]?a[0].confirmed:"-"," ")),l.a.createElement("div",null,l.a.createElement("h2",null,"Deaths"),l.a.createElement("h3",null,a[0]?a[0].deaths:"-")),l.a.createElement("div",null,l.a.createElement("h2",null,"Recovered"),l.a.createElement("h3",null,a[0]?a[0].recovered:"-")),l.a.createElement("div",null,l.a.createElement("h2",null,"Total Tests"),l.a.createElement("h3",null,d))),l.a.createElement(m,{stateData:a}))},E=a(10),v=function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"navbar"},l.a.createElement("ul",{className:"navlist"},l.a.createElement("li",{className:"navlinks"},l.a.createElement(E.b,{to:"/",active:!0,exact:!0},"Home")),l.a.createElement("li",{className:"navlinks"},l.a.createElement(E.b,{to:"/world_stats",exact:!0},"World Stats")))))},h=a(15),f={"X-RapidAPI-Host":"coronavirus-monitor.p.rapidapi.com","X-RapidAPI-Key":"68781a08bcmsh8884703f7285062p1d71e1jsnf3468378e101"},p=function(){var e=Object(n.useState)({}),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),o=Object(u.a)(c,2),s=o[0],m=o[1],d=Object(h.c)((function(e){return e.allstats})),E=Object(h.b)(),v=d,p=Object(n.useRef)(null),b={headers:f};Object(n.useEffect)((function(){var e,t;navigator.geolocation?navigator.geolocation.getCurrentPosition((function(a){e=a.coords.latitude.toString(),t=a.coords.longitude.toString(),i.a.get("https://geocode.xyz/".concat(e,",").concat(t,"?json=1")).then((function(e){p.current=e.data.country,y(null,p.current)}))})):console.log("Geolocation is not supported by this browser."),y(),i.a.get("https://coronavirus-monitor.p.rapidapi.com/coronavirus/worldstat.php",b).then((function(e){r(e.data)}))}),[]);var y=function(e,t){var a=e,n=t;i.a.get("https://coronavirus-monitor.p.rapidapi.com/coronavirus/cases_by_country.php",b).then((function(e){E(a?function(e,t){return{type:"SEARCHCOUNTRY",payload:e,query:t}}(e.data,a):function(e,t){return{type:"INITIALLOAD",payload:e,countryName:t}}(e.data,n))}))};return l.a.createElement("div",null,l.a.createElement("h1",null,"World Stats"),l.a.createElement("div",{className:"stats-wrapper world-stats"},l.a.createElement("div",null,l.a.createElement("h2",null,"Total Cases"),l.a.createElement("h3",null,a?a.total_cases:"-"," ")),l.a.createElement("div",null,l.a.createElement("h2",null,"Total Deaths"),l.a.createElement("h3",null,a?a.total_deaths:"-"," ")),l.a.createElement("div",null,l.a.createElement("h2",null,"Total Recovered"),l.a.createElement("h3",null,a?a.total_recovered:"-"," "))),l.a.createElement("div",{className:"searchbar"},l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),y(s)}},l.a.createElement("input",{type:"text",placeholder:"Enter your country...",value:s,onChange:function(e){return m(e.target.value)}}),l.a.createElement("button",null,"Search"))),l.a.createElement("div",{className:"search-results"},v?v.allstats.map((function(e){return l.a.createElement("div",{className:"country-stats",key:e.country_name},l.a.createElement("h2",null,e.country_name),l.a.createElement("h3",null,"Total Cases: ",e.cases),l.a.createElement("h3",null,"Active Cases: ",e.active_cases),l.a.createElement("h3",null,"Total Deaths: ",e.deaths),l.a.createElement("h3",null,"Recovered: ",e.total_recovered))})):l.a.createElement("p",null,"Country Not Found")))},b=a(7);var y=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(v,null),l.a.createElement("div",{className:"App"},l.a.createElement(b.c,null,l.a.createElement(b.a,{path:"/",component:d,exact:!0}),l.a.createElement(b.a,{path:"/world_stats",component:p,exact:!0}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var g=a(14),j=a(24),O=Object(g.b)({allstats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALLOAD":var a=t.payload.countries_stat.filter((function(e,t){if(t>0&&t<3)return e})),n=t.payload.countries_stat.filter((function(e,a){if(e.country_name==t.countryName)return e}));return Object(o.a)({},e,{allstats:[].concat(Object(j.a)(n),Object(j.a)(a))});case"SEARCHCOUNTRY":var l=t.payload.countries_stat.filter((function(e){return e.country_name==t.query}));return Object(o.a)({},e,{allstats:l});default:return e}}}),_=Object(g.c)((function(e,t){return O(e,t)}),{});c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(h.a,{store:_},l.a.createElement(E.a,null,l.a.createElement(y,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.8edd5a87.chunk.js.map
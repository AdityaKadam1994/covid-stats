(this["webpackJsonpcovid-stats"]=this["webpackJsonpcovid-stats"]||[]).push([[0],{41:function(e,t,a){e.exports=a(72)},46:function(e,t,a){},47:function(e,t,a){e.exports=a.p+"static/media/logo.ee7cd8ed.svg"},48:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(20),c=a.n(r),o=(a(46),a(47),a(48),a(19)),s=a(10),u=a(74),i=a(75),m=a(76),d=a(13),E=a.n(d),h=a(73),f=function(e){var t=Object(n.useMemo)((function(){return e.stateData}),[e.stateData]).filter((function(e,t){return"Total"!==e.state}));return l.a.createElement("div",{className:"container-fluid"},l.a.createElement(h.a,{striped:!0,responsive:!0,className:"mb-5"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"State"),l.a.createElement("th",null,"Confirmed"),l.a.createElement("th",null,"Active"),l.a.createElement("th",null,"Deaths"),l.a.createElement("th",null,"Recovered"),l.a.createElement("th",null,"Total Tests"))),l.a.createElement("tbody",null,t?t.map((function(e){return l.a.createElement("tr",{key:e.state},l.a.createElement("td",null,e.state),l.a.createElement("td",null,e.confirmed),l.a.createElement("td",null,e.active),l.a.createElement("td",null,e.deaths),l.a.createElement("td",null,e.recovered),l.a.createElement("td",null,e.totaltested?e.totaltested:"-"))})):null)))},p=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(0),d=Object(s.a)(c,2),h=d[0],p=d[1];return Object(n.useEffect)((function(){var e;E.a.get("https://api.covid19india.org/state_test_data.json").then((function(t){var a=t.data.states_tested_data.map((function(e){var t=e.updatedon.split("/"),a=[t[1],t[0]];t[0]=a[0],t[1]=a[1];var n=t.join("/");return Object(o.a)({},e,{updatedon:n})})).reverse().filter((function(e,t,a){return t===a.findIndex((function(t){return t.state===e.state&&""!==t.totaltested}))})),n=a.map((function(e){return parseInt(""!==e.totaltested?e.totaltested:0)})).reduce((function(e,t){return e+t}),0);p(n),E.a.get("https://api.covid19india.org/data.json").then((function(t){e=t.data.statewise;for(var n=0;n<e.length;n++)for(var l=0;l<a.length;l++)e[n].state===a[l].state&&(e[n].totaltested=a[l].totaltested);r(e)}))}))}),[]),l.a.createElement("div",null,l.a.createElement("h1",{className:"text-center my-4"},"India COVID-19 Stats"),l.a.createElement("div",{className:"stats-wrapper"},l.a.createElement(u.a,null,l.a.createElement(i.a,{className:"justify-content-center"},l.a.createElement(m.a,{className:"mx-3"},l.a.createElement("h2",null,"Confirmed"),l.a.createElement("h3",null,a[0]?a[0].confirmed:"-"," ")),l.a.createElement(m.a,{className:"mx-3"},l.a.createElement("h2",null,"Active"),l.a.createElement("h3",null,a[0]?a[0].active:"-"," ")),l.a.createElement(m.a,{className:"mx-3"},l.a.createElement("h2",null,"Deaths"),l.a.createElement("h3",null,a[0]?a[0].deaths:"-")),l.a.createElement(m.a,{className:"mx-3"},l.a.createElement("h2",null,"Recovered"),l.a.createElement("h3",null,a[0]?a[0].recovered:"-")),l.a.createElement(m.a,{className:"mx-3"},l.a.createElement("h2",null,"Total Tests"),l.a.createElement("h3",null,h))))),l.a.createElement(f,{stateData:a}))},v=a(14),y=function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"navbar"},l.a.createElement("ul",{className:"navlist mx-auto"},l.a.createElement("li",{className:"navlinks"},l.a.createElement(v.b,{to:"/",active:!0,exact:!0},"Home")),l.a.createElement("li",{className:"navlinks"},l.a.createElement(v.b,{to:"/world_stats",exact:!0},"World Stats")))))},b=a(18),g={"X-RapidAPI-Host":"coronavirus-monitor.p.rapidapi.com","X-RapidAPI-Key":"68781a08bcmsh8884703f7285062p1d71e1jsnf3468378e101"},O=a(77),j=a(78),N=a(79),w=function(){var e=Object(n.useState)({}),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),o=Object(s.a)(c,2),d=o[0],h=o[1],f=Object(b.c)((function(e){return e.allstats})),p=Object(n.useState)(null),v=Object(s.a)(p,2),y=v[0],w=v[1],_=Object(n.useState)(),x=Object(s.a)(_,2),C=x[0],S=x[1],R=Object(n.useState)(!0),T=Object(s.a)(R,2),I=T[0],k=T[1],A=Object(b.b)(),D=Object(n.useRef)(),L=f,H=Object(n.useRef)(null),W={headers:g};Object(n.useEffect)((function(){var e,t;navigator.geolocation?navigator.geolocation.getCurrentPosition((function(a){e=a.coords.latitude.toString(),t=a.coords.longitude.toString(),E.a.get("https://geocode.xyz/".concat(e,",").concat(t,"?json=1")).then((function(e){H.current=e.data.country,q("",H.current)})).catch((function(e){q("",null)}))})):console.log("Geolocation is not supported by this browser."),E.a.get("https://coronavirus-monitor.p.rapidapi.com/coronavirus/worldstat.php",W).then((function(e){r(e.data)}))}),[]);var q=function(e,t){var a=0==e.length?null:e,n=t;E.a.get("https://coronavirus-monitor.p.rapidapi.com/coronavirus/cases_by_country.php",W).then((function(e){w(e.data),A(a?function(e,t){return{type:"SEARCHCOUNTRY",payload:e,query:t}}(e.data,a):function(e,t){return{type:"INITIALLOAD",payload:e,countryName:t}}(e.data,n))}))};return l.a.createElement("div",null,l.a.createElement("h1",{className:"text-center my-4"},"World Stats"),l.a.createElement("div",{className:"stats-wrapper"},l.a.createElement(u.a,null,l.a.createElement(i.a,{className:"world-stats py-4"},l.a.createElement(m.a,{md:"4"},l.a.createElement("h2",null,"Total Cases"),l.a.createElement("h3",null,a?a.total_cases:"-"," ")),l.a.createElement(m.a,{md:"4"},l.a.createElement("h2",null,"Total Deaths"),l.a.createElement("h3",null,a?a.total_deaths:"-"," ")),l.a.createElement(m.a,{md:"4"},l.a.createElement("h2",null,"Total Recovered"),l.a.createElement("h3",null,a?a.total_recovered:"-"," "))))),l.a.createElement("div",{className:"searchbar"},l.a.createElement(O.a,{inline:!0,onSubmit:function(e){e.preventDefault(),q(d)},className:"d-flex justify-content-center"},l.a.createElement(j.a,{type:"text",placeholder:"Enter your country...",value:d,onChange:function(e){return function(e){h(e.target.value),k(!0);var t=new RegExp(d?d.toLowerCase():"","g");console.log("executed");var a=y?y.countries_stat.map((function(e){return e.country_name.toLowerCase().match(t)?e.country_name:null})).filter((function(e){return null!==e})):null;0===a.length&&k(!1),S(a)}(e)},onClick:function(){return h(null)},innerRef:D,required:!0}),l.a.createElement(N.a,{color:"primary",className:"h-100"},"Search")),l.a.createElement("div",{className:"autosuggest-wrapper"},l.a.createElement("div",{className:"auto-suggest-box"},l.a.createElement("ul",{className:"country-list ".concat(d?"displayOn":"displayOff"," ").concat(I?"displayOn":"displayOff")},C&&C.length>0?C.map((function(e){return l.a.createElement("li",{onClick:function(){h(e.toLowerCase()),k(!1),D.current.focus()},key:e},e)})):null)))),l.a.createElement("div",{className:"search-results container-fluid"},l.a.createElement(i.a,null,L&&L.allstats.length>0?L.allstats.map((function(e){return l.a.createElement(m.a,{md:"4",key:e.country_name,className:"text-center"},l.a.createElement("div",{className:"country-stats py-4 px-3"},l.a.createElement("h2",null,e.country_name),l.a.createElement("h3",null,"Total Cases: ",e.cases),l.a.createElement("h3",null,"Active Cases: ",e.active_cases),l.a.createElement("h3",null,"Total Deaths: ",e.deaths),l.a.createElement("h3",null,"Recovered: ",e.total_recovered)))})):l.a.createElement("h2",{className:"country-center"},"Country not found or check the spelling"))))},_=a(12);a(71);var x=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(y,null),l.a.createElement("div",{className:"App"},l.a.createElement(_.c,null,l.a.createElement(_.a,{path:"/",component:p,exact:!0}),l.a.createElement(_.a,{path:"/world_stats",component:w,exact:!0}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var C=a(17),S=a(27),R=Object(C.b)({allstats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALLOAD":var a=t.payload.countries_stat.filter((function(e,t){if(t>0&&t<3)return e})),n=t.payload.countries_stat.filter((function(e,a){if(e.country_name==t.countryName)return e}));return Object(o.a)({},e,{allstats:[].concat(Object(S.a)(n),Object(S.a)(a))});case"SEARCHCOUNTRY":var l=t.payload.countries_stat?t.payload.countries_stat.filter((function(e){return e.country_name.toLowerCase().trim()==t.query.toLowerCase().trim()})):null;return Object(o.a)({},e,{allstats:l});default:return e}}}),T=Object(C.c)((function(e,t){return R(e,t)}),{});c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(b.a,{store:T},l.a.createElement(v.a,null,l.a.createElement(x,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.ff4fd5ce.chunk.js.map